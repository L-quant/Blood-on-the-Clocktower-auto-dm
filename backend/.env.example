# =====================================================
# Blood on the Clocktower Auto-DM - 环境配置文件
# =====================================================
# 复制此文件为 .env 并填入你的配置
# cp .env.example .env

# -----------------------------------------------------
# AI Agent 配置 (必需)
# -----------------------------------------------------
# Google Gemini API 密钥 - 用于 AI 自动说书人功能
# 获取免费密钥: https://aistudio.google.com/apikey
GEMINI_API_KEY=AIzaSyCyS-YhpEgGCj2BUggVhINPwfIOl4oHco4

# 是否启用 AI 自动说书人 (true/false)
AUTODM_ENABLED=true

# LLM 模型选择 (可选，默认 gemini-2.0-flash)
# 可选: gemini-2.0-flash, gemini-1.5-pro, gemini-1.5-flash
AUTODM_LLM_MODEL=gemini-2.0-flash

# 网络代理 (如果在国内无法连接 Google API 请配置此项)
# HTTPS_PROXY=http://127.0.0.1:7890


# LLM 请求超时时间 (秒)
AUTODM_LLM_TIMEOUT_SEC=60

# -----------------------------------------------------
# 服务配置
# -----------------------------------------------------
# HTTP 服务监听地址
HTTP_ADDR=:8080

# JWT 签名密钥 (生产环境请使用强密钥)
JWT_SECRET=dev-secret-change-in-production

# 快照间隔 (每 N 个事件创建一次状态快照)
SNAPSHOT_INTERVAL=50

# -----------------------------------------------------
# 数据库配置
# -----------------------------------------------------
# MySQL 连接字符串
DB_DSN=root:password@tcp(localhost:3316)/agentdm?parseTime=true&multiStatements=true&charset=utf8mb4&collation=utf8mb4_unicode_ci

# Redis 地址
REDIS_ADDR=localhost:6389

# -----------------------------------------------------
# 消息队列配置
# -----------------------------------------------------
# RabbitMQ 连接地址
RABBITMQ_URL=amqp://botc:botc_password@localhost:5672/

# -----------------------------------------------------
# 向量数据库配置 (RAG 系统)
# -----------------------------------------------------
# Qdrant 地址
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=botc_rules

# -----------------------------------------------------
# 监控配置
# -----------------------------------------------------
# Prometheus 地址
PROM_ADDR=:9090

# 是否输出追踪到标准输出
TRACE_STDOUT=true

# -----------------------------------------------------
# 游戏配置 (可选)
# -----------------------------------------------------
# 提名超时时间 (秒)
NOMINATION_TIMEOUT_SEC=10

# 投票超时时间 (秒)
VOTE_TIMEOUT_SEC=3

# 讨论时间 (秒)
DISCUSSION_DURATION_SEC=180

# 夜间行动超时时间 (秒)
NIGHT_ACTION_TIMEOUT_SEC=30

# -----------------------------------------------------
# 备选: OpenAI 兼容 API 配置
# -----------------------------------------------------
# 如果使用 OpenAI 或其他兼容 API (当 GEMINI_API_KEY 未设置时生效)
# AUTODM_LLM_API_KEY=your-openai-api-key
# AUTODM_LLM_BASE_URL=https://api.openai.com/v1
# AUTODM_LLM_MODEL=gpt-4o
